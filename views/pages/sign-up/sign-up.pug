extends ../../layouts/authentication.pug

mixin checkError(errors, pError)
    if errors
        each error in errors
            if (error.param === pError)
                p(style={'color': 'red', 'font-size': '0.7em'})= error.msg

block content
    .container
        .row.justify-content-center
            .col-lg-7
                .card.shadow-lg.border-0.rounded-lg.mt-5
                    .card-header
                        h3.text-center.font-weight-light.my-4 Create Account
                    .card-body
                        form(action="/sign-up/" method="post")
                            .form-row
                                .col-md-6
                                    .form-group
                                        label.small.mb-1(for='inputUsername') Username
                                        input#inputUsername.form-control.py-4(type='text', placeholder='Enter username' name="username")
                                        +checkError(errors, 'username')
                                .col-md-6
                                    .form-group
                                        label.small.mb-1(for='inputAddress') Address
                                        input#inputAddress.form-control.py-4(type='text', placeholder='Enter address' name="address")
                                        +checkError(errors, 'address')

                            .form-row
                                .col-md-6
                                    .form-group
                                        label.small.mb-1(for='inputPhone') Phone
                                        input#inputPhone.form-control.py-4(type='text', placeholder='Enter phone number' name="phone")
                                        +checkError(errors, 'phone')

                                .col-md-6
                                    .form-group
                                        label.small.mb-1(for='inputEmailAddress') Email
                                        input#inputEmailAddress.form-control.py-4(type='email', aria-describedby='emailHelp', placeholder='Enter email address', name="email")
                                        +checkError(errors, 'email')
                                        if emailRepeated
                                            p(style={'color': 'red', 'font-size': '0.7em'})= emailRepeated

                            .form-row
                                .col-md-6
                                    .form-group
                                        label.small.mb-1(for='inputPassword') Password
                                        input#inputPassword.form-control.py-4(type='password', placeholder='Enter password', name="password")
                                        +checkError(errors, 'password')

                                .col-md-6
                                    .form-group
                                        label.small.mb-1(for='inputConfirmPassword') Confirm Password
                                        input#inputConfirmPassword.form-control.py-4(type='password', placeholder='Confirm password', name="confirmPassword")
                                        +checkError(errors, 'confirmPassword')

                            .form-group.mt-4.mb-0
                                button.btn.btn-primary.btn-block(type='submit') Create Account
                                
                    .card-footer.text-center
                        .small
                            a(href='/sign-in') Have an account? Go to login